mutation AddNewMovie($title: String!, $year: Int!, $runtimeMinutes: Int, $summary: String, $genres: [String]) @auth(level: USER) {
  movie_insert(data: {
    title: $title,
    year: $year,
    runtimeMinutes: $runtimeMinutes,
    summary: $summary,
    genres: $genres
  })
}

query GetPublicMovieLists @auth(level: PUBLIC) {
  movieLists(where: {isPublic: {eq: true}}) {
    id
    name
    description
  }
}

mutation UpdateMovieListDescription($id: UUID!, $description: String) @auth(level: USER) {
  movieList_update(id: $id, data: {description: $description})
}

query GetMoviesByGenre($genre: String!) @auth(level: PUBLIC) {
  movies(where: {genres: {includes: $genre}}) {
    id
    title
    year
  }
}